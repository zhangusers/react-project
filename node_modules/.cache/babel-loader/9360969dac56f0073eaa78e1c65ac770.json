{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\n\nvar _dec,\n    _class,\n    _jsxFileName = \"/Users/zhangzhuang/React/react-admin/src/layouts/index.jsx\";\n\nimport React, { Component } from \"react\";\nimport { otherRouter, sideRouter } from \"@/router/menuConfig\";\nimport RouterView from \"@/router\";\nimport { inject, observer } from \"mobx-react\";\nimport store from \"./store.js\";\nimport \"../index.less\";\nlet Layouts = (_dec = inject(\"store\"), _dec(_class = observer(_class = class Layouts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isReady: false\n    };\n    const url = props.match.url;\n    this.globalStore = props.store.globalStore;\n    this.globalStore.history = props.history;\n    this.init(url);\n  }\n\n  async componentDidMount() {\n    this.setState({\n      isReady: true\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const url = this.props.match.url;\n\n    if (this.props.match.url !== prevProps.match.url) {\n      this.init(url);\n    }\n  }\n\n  init(url) {\n    store.init(sideRouter, url);\n    store.changeDocTitle([...sideRouter, ...otherRouter], url);\n  }\n\n  render() {\n    const {\n      isReady\n    } = this.state;\n    return isReady && /*#__PURE__*/React.createElement(_Layout, {\n      className: \"layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(RouterView, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    })) || /*#__PURE__*/React.createElement(_Spin, {\n      spinning: !isReady,\n      tip: \"\\u52A0\\u8F7D\\u4E2D...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100vh\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}) || _class) || _class);\nexport default Layouts;","map":{"version":3,"sources":["/Users/zhangzhuang/React/react-admin/src/layouts/index.jsx"],"names":["React","Component","otherRouter","sideRouter","RouterView","inject","observer","store","Layouts","constructor","props","state","isReady","url","match","globalStore","history","init","componentDidMount","setState","componentDidUpdate","prevProps","prevState","snapshot","changeDocTitle","render","height"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAIA,SAAQC,WAAR,EAAqBC,UAArB,QAAsC,qBAAtC;AACA,OAAOC,UAAP,MAAuB,UAAvB;AAEA,SAAQC,MAAR,EAAgBC,QAAhB,QAA+B,YAA/B;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,OAAO,eAAP;IAIMC,O,WAFLH,MAAM,CAAC,OAAD,C,gBACNC,Q,UADD,MAEME,OAFN,SAEsBP,SAFtB,CAEgC;AAK/BQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AADkB,SAJnBC,KAImB,GAJX;AACPC,MAAAA,OAAO,EAAE;AADF,KAIW;AAElB,UAAMC,GAAG,GAAGH,KAAK,CAACI,KAAN,CAAYD,GAAxB;AACA,SAAKE,WAAL,GAAmBL,KAAK,CAACH,KAAN,CAAYQ,WAA/B;AACM,SAAKA,WAAL,CAAiBC,OAAjB,GAA2BN,KAAK,CAACM,OAAjC;AACN,SAAKC,IAAL,CAAUJ,GAAV;AACA;;AAEsB,QAAjBK,iBAAiB,GAAG;AACnB,SAAKC,QAAL,CAAc;AAAEP,MAAAA,OAAO,EAAE;AAAX,KAAd;AACN;;AAEDQ,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,QAAvB,EAAiC;AAClD,UAAMV,GAAG,GAAG,KAAKH,KAAL,CAAWI,KAAX,CAAiBD,GAA7B;;AACA,QAAI,KAAKH,KAAL,CAAWI,KAAX,CAAiBD,GAAjB,KAAyBQ,SAAS,CAACP,KAAV,CAAgBD,GAA7C,EAAkD;AACjD,WAAKI,IAAL,CAAUJ,GAAV;AACA;AACD;;AAEDI,EAAAA,IAAI,CAACJ,GAAD,EAAM;AACTN,IAAAA,KAAK,CAACU,IAAN,CAAWd,UAAX,EAAuBU,GAAvB;AACMN,IAAAA,KAAK,CAACiB,cAAN,CAAqB,CAAC,GAAGrB,UAAJ,EAAgB,GAAGD,WAAnB,CAArB,EAAsDW,GAAtD;AACN;;AAEDY,EAAAA,MAAM,GAAG;AACF,UAAM;AAACb,MAAAA;AAAD,QAAY,KAAKD,KAAvB;AAEA,WACKC,OAAO,iBACJ;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,iBAKI;AAAM,MAAA,QAAQ,EAAE,CAACA,OAAjB;AAA0B,MAAA,GAAG,EAAC,uBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAE;AAACc,QAAAA,MAAM,EAAE;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CANR;AAWN;;AA3C8B,C;AA8ChC,eAAelB,OAAf","sourcesContent":["import React, {Component} from \"react\";\n\nimport {Layout, Spin} from \"antd\";\n\nimport {otherRouter, sideRouter} from \"@/router/menuConfig\";\nimport RouterView from \"@/router\";\n\nimport {inject, observer} from \"mobx-react\";\nimport store from \"./store.js\";\n\nimport \"../index.less\";\n\n@inject(\"store\")\n@observer\nclass Layouts extends Component {\n\tstate = {\n\t\tisReady: false,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst url = props.match.url;\n\t\tthis.globalStore = props.store.globalStore;\n        this.globalStore.history = props.history;\n\t\tthis.init(url);\n\t}\n\n\tasync componentDidMount() {\n        this.setState({ isReady: true });\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tconst url = this.props.match.url;\n\t\tif (this.props.match.url !== prevProps.match.url) {\n\t\t\tthis.init(url);\n\t\t}\n\t}\n\n\tinit(url) {\n\t\tstore.init(sideRouter, url);\n        store.changeDocTitle([...sideRouter, ...otherRouter], url);\n\t}\n\n\trender() {\n        const {isReady} = this.state;\n\n        return (\n            (isReady && (\n                <Layout className=\"layout\">\n                    <RouterView />\n                </Layout>\n            )) || (\n                <Spin spinning={!isReady} tip=\"加载中...\">\n                    <div style={{height: \"100vh\"}}></div>\n                </Spin>\n            )\n        );\n\t}\n}\n\nexport default Layouts\n"]},"metadata":{},"sourceType":"module"}